<!DOCTYPE html>
<html class="no-js" lang="zxx">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>Edumark</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- <link rel="manifest" href="site.webmanifest"> -->
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="../assets/img/favicon.png"
    />
    <!-- Place favicon.ico in the root directory -->

    <!-- CSS here -->
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/owl.carousel.min.css" />
    <link rel="stylesheet" href="../assets/css/magnific-popup.css" />
    <link rel="stylesheet" href="../assets/css/font-awesome.min.css" />
    <link rel="stylesheet" href="../assets/css/themify-icons.css" />
    <link rel="stylesheet" href="../assets/css/nice-select.css" />
    <link rel="stylesheet" href="../assets/css/flaticon.css" />
    <link rel="stylesheet" href="../assets/css/gijgo.css" />
    <link rel="stylesheet" href="../assets/css/animate.css" />
    <link rel="stylesheet" href="../assets/css/slicknav.css" />
    <link rel="stylesheet" href="../assets/css/style.css" />
    <!-- <link rel="stylesheet" href="../assets/css/responsive.css"> -->
  </head>

  <body>
    <!--[if lte IE 9]>
      <p class="browserupgrade">
        You are using an <strong>outdated</strong> browser. Please
        <a href="https://browsehappy.com/">upgrade your browser</a> to improve
        your experience and security.
      </p>
    <![endif]-->

    <!-- header-start -->
    <div id="header"></div>
    <!-- header-end -->

    <div class="courses_details_banner">
      <div class="container">
        <div class="row">
          <div class="col-xl-8 offset-xl-2">
            <div class="course_text text-center">
                <h3 id="course-title">Loading...</h3>
                <p id="course-description">Loading course description...</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- course_modules_start -->
    <div class="popular_courses">
        <div class="container">
            <div class="row">
                <div class="col-xl-12">
                    <div class="section_title text-center mb-100">
                    <h3>Course Modules</h3>
                    <p>Start learning step by step from this course</p>
                    </div>
                </div>
            </div>

            <!-- MODULE LIST -->
            <div class="row" id="modules-container">
            <!-- Module cards injected by JS -->
            </div>
        </div>
    </div>
    <!-- course_modules_end -->


    <!-- testimonial_area_start -->
    <div class="testimonial_area testimonial_bg_1 overlay">
      <div class="testmonial_active owl-carousel">
        <div class="single_testmoial">
          <div class="container">
            <div class="row">
              <div class="col-xl-12">
                <div class="testmonial_text text-center">
                  <div class="author_img">
                    <img src="../assets/img/testmonial/author_img.png" alt="" />
                  </div>
                  <p>
                    "Working in conjunction with humanitarian aid <br />
                    agencies we have supported programmes to <br />
                    alleviate. human suffering.
                  </p>
                  <span>- Jquileen</span>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="single_testmoial">
          <div class="container">
            <div class="row">
              <div class="col-xl-12">
                <div class="testmonial_text text-center">
                  <div class="author_img">
                    <img src="../assets/img/testmonial/author_img.png" alt="" />
                  </div>
                  <p>
                    "Working in conjunction with humanitarian aid <br />
                    agencies we have supported programmes to <br />
                    alleviate. human suffering.
                  </p>
                  <span>- Jquileen</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- testimonial_area_end -->

    <!-- our_courses_start -->
    <div class="our_courses">
      <div class="container">
        <div class="row">
          <div class="col-xl-12">
            <div class="section_title text-center mb-100">
              <h3>Our Course Speciality</h3>
              <p>
                Your domain control panel is designed for ease-of-use and <br />
                allows for all aspects of your domains.
              </p>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-xl-3 col-md-6 col-lg-6">
            <div class="single_course text-center">
              <div class="icon">
                <i class="flaticon-art-and-design"></i>
              </div>
              <h3>Premium Quality</h3>
              <p>
                Your domain control panel is designed for ease-of-use <br />
                and <br />
                allows for all aspects of
              </p>
            </div>
          </div>
          <div class="col-xl-3 col-md-6 col-lg-6">
            <div class="single_course text-center">
              <div class="icon blue">
                <i class="flaticon-business-and-finance"></i>
              </div>
              <h3>Premium Quality</h3>
              <p>
                Your domain control panel is designed for ease-of-use <br />
                and <br />
                allows for all aspects of
              </p>
            </div>
          </div>
          <div class="col-xl-3 col-md-6 col-lg-6">
            <div class="single_course text-center">
              <div class="icon">
                <i class="flaticon-premium"></i>
              </div>
              <h3>Premium Quality</h3>
              <p>
                Your domain control panel is designed for ease-of-use <br />
                and <br />
                allows for all aspects of
              </p>
            </div>
          </div>
          <div class="col-xl-3 col-md-6 col-lg-6">
            <div class="single_course text-center">
              <div class="icon gradient">
                <i class="flaticon-crown"></i>
              </div>
              <h3>Premium Quality</h3>
              <p>
                Your domain control panel is designed for ease-of-use <br />
                and <br />
                allows for all aspects of
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- our_courses_end -->

    <!-- subscribe_newsletter_Start -->
    <div class="subscribe_newsletter">
      <div class="container">
        <div class="row">
          <div class="col-xl-6 col-lg-6">
            <div class="newsletter_text">
              <h3>Subscribe Newsletter</h3>
              <p>
                Your domain control panel is designed for ease-of-use and allows
                for all aspects of your
              </p>
            </div>
          </div>
          <div class="col-xl-5 offset-xl-1 col-lg-6">
            <div class="newsletter_form">
              <h4>Your domain control panel is</h4>
              <form action="#" class="newsletter_form">
                <input type="text" placeholder="Enter your mail" />
                <button type="submit">Sign Up</button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- subscribe_newsletter_end -->

    <!-- footer -->
    <div id="footer"></div>
    <!-- footer -->

    <!-- form itself end-->
    <form id="test-form" class="white-popup-block mfp-hide">
      <div class="popup_box">
        <div class="popup_inner">
          <div class="logo text-center">
            <a href="#">
              <img src="../assets/img/form-logo.png" alt="" />
            </a>
          </div>
          <h3>Sign in</h3>
          <form action="#">
            <div class="row">
              <div class="col-xl-12 col-md-12">
                <input type="email" placeholder="Enter email" />
              </div>
              <div class="col-xl-12 col-md-12">
                <input type="password" placeholder="Password" />
              </div>
              <div class="col-xl-12">
                <button type="submit" class="boxed_btn_orange">Sign in</button>
              </div>
            </div>
          </form>
          <p class="doen_have_acc">
            Donâ€™t have an account?
            <a class="dont-hav-acc" href="#test-form2">Sign Up</a>
          </p>
        </div>
      </div>
    </form>
    <!-- form itself end -->

    <!-- form itself end-->
    <form id="test-form2" class="white-popup-block mfp-hide">
      <div class="popup_box">
        <div class="popup_inner">
          <div class="logo text-center">
            <a href="#">
              <img src="../assets/img/form-logo.png" alt="" />
            </a>
          </div>
          <h3>Resistration</h3>
          <form action="#">
            <div class="row">
              <div class="col-xl-12 col-md-12">
                <input type="email" placeholder="Enter email" />
              </div>
              <div class="col-xl-12 col-md-12">
                <input type="password" placeholder="Password" />
              </div>
              <div class="col-xl-12 col-md-12">
                <input type="Password" placeholder="Confirm password" />
              </div>
              <div class="col-xl-12">
                <button type="submit" class="boxed_btn_orange">Sign Up</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </form>
    <!-- form itself end -->

    <!-- JS here -->
    <script src="../assets/js/vendor/modernizr-3.5.0.min.js"></script>
    <script src="../assets/js/vendor/jquery-1.12.4.min.js"></script>
    <script src="../assets/js/popper.min.js"></script>
    <script src="../assets/js/bootstrap.min.js"></script>
    <script src="../assets/js/owl.carousel.min.js"></script>
    <script src="../assets/js/isotope.pkgd.min.js"></script>
    <script src="../assets/js/ajax-form.js"></script>
    <script src="../assets/js/waypoints.min.js"></script>
    <script src="../assets/js/jquery.counterup.min.js"></script>
    <script src="../assets/js/imagesloaded.pkgd.min.js"></script>
    <script src="../assets/js/scrollIt.js"></script>
    <script src="../assets/js/jquery.scrollUp.min.js"></script>
    <script src="../assets/js/wow.min.js"></script>
    <script src="../assets/js/nice-select.min.js"></script>
    <script src="../assets/js/jquery.slicknav.min.js"></script>
    <script src="../assets/js/jquery.magnific-popup.min.js"></script>
    <script src="../assets/js/plugins.js"></script>
    <script src="../assets/js/gijgo.min.js"></script>

    <!--contact js-->
    <script src="../assets/js/contact.js"></script>
    <script src="../assets/js/jquery.ajaxchimp.min.js"></script>
    <script src="../assets/js/jquery.form.js"></script>
    <script src="../assets/js/jquery.validate.min.js"></script>
    <script src="../assets/js/mail-script.js"></script>
    <script type="module" src="../assets/js/main.js"></script>

    <script type="module">
      import { Header } from "../assets/js/components/public/header.js";
      import { Footer } from "../assets/js/components/public/footer.js";
      import { getCourseModules } from "../assets/js/api/student.js";

      document.addEventListener("DOMContentLoaded", async () => {
        document.getElementById("header").innerHTML = Header();
        document.getElementById("footer").innerHTML = Footer();

        const params = new URLSearchParams(window.location.search);
        const courseId = params.get("id");

        if (!courseId) {
          alert("Course ID not found");
          return;
        }

        await loadCourse(courseId);
      });

      async function loadCourse(courseId) {
        try {
          const data = await getCourseModules(courseId);
          const course = data.course;
          const modules = data.modules;

          // COURSE INFO
          document.getElementById("course-title").textContent =
            course.title ?? "Course Title";

          document.getElementById("course-description").textContent =
            course.description ?? "No description available.";

          // MODULES
          renderModules(modules, courseId);
        } catch (err) {
          console.error(err);
          alert("Failed to load course");
        }
      }

      function renderModules(modules, courseId) {
        const container = document.getElementById("modules-container");
        container.innerHTML = "";

        if (!modules || modules.length === 0) {
          container.innerHTML = `
            <div class="col-12 text-center">
              <p style="color:#6b7280">No modules available</p>
            </div>
          `;
          return;
        }

        modules.forEach((module) => {
          const card = document.createElement("div");
          card.className = "col-xl-4 col-lg-4 col-md-6";

          card.innerHTML = `
            <div class="single_courses" style="cursor:pointer"
              onclick="window.location.href='module.html?courseId=${courseId}&moduleId=${module.id}'">
              <div class="thumb">
                <img src="../assets/img/courses/${
                  Math.floor(Math.random() * 6) + 1
                }.png" alt="${module.title}">
              </div>
              <div class="courses_info">
                <span>Module ${module.order}</span>
                <h3>${module.title}</h3>
                <div class="star_prise d-flex justify-content-between">
                  <div class="star">
                    <i class="flaticon-mark-as-favorite-star"></i>
                    <span>(4.5)</span>
                  </div>
                </div>
                <div style="margin-top:10px">
                  <span>Start Learning</span>
                </div>
              </div>
            </div>
          `;

          container.appendChild(card);
        });
      }
    </script>
  </body>
</html>
